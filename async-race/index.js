(()=>{"use strict";var t,e,n,a,r={203:(t,e,n)=>{n.d(e,{BS:()=>m,Bo:()=>u,DT:()=>i,Rn:()=>s,ix:()=>l,tD:()=>d});const a="http://localhost:3000",r=`${a}/garage`,o=`${a}/winners`,s=async(t,e=7)=>{const n=await fetch(`${r}?_page=${t}&_limit=${e}`);return{carsItems:await n.json(),carsCount:n.headers.get("X-Total-Count")}},c=async t=>(await fetch(`${r}/${t}`)).json(),i=async t=>(await fetch(r,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json(),u=async(t,e)=>(await fetch(`${r}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json(),d=async t=>(await fetch(`${r}/${t}`,{method:"DELETE"})).json(),l=async(t,e=10)=>{const n=await fetch(`${o}?_page=${t}&_limit=${e}`),a=await n.json();return{winnersItems:await Promise.all(a.map((async t=>({...t,car:await c(t.id)})))),winnersCount:n.headers.get("X-Total-Count")}},m=async t=>(await fetch(`${o}/${t}`,{method:"DELETE"})).json()},607:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var a=n(349),r=n(914),o=n(70),s=t([a,r,o]);[a,r,o]=s.then?(await s)():s,await(0,a.Xz)(),(0,r.X)(),await(0,o.xm)(),e()}catch(t){e(t)}}),1)},914:(t,e,n)=>{n.a(t,(async(t,a)=>{try{n.d(e,{X:()=>s});var r=n(70),o=t([r]);r=(o.then?(await o)():o)[0];const s=()=>{const t=document.getElementById("to-garage"),e=document.getElementById("to-winners"),n=document.getElementById("next"),a=document.getElementById("prev"),o=document.getElementById("create-auto"),s=document.querySelector(".create-button"),c=document.getElementById("create-name"),i=document.getElementById("update-auto"),u=document.querySelector(".generate-cars-button");o.addEventListener("submit",(async t=>{t.preventDefault(),await(0,r.QG)()})),c.addEventListener("input",(()=>{s.removeAttribute("disabled")})),i.addEventListener("submit",(async t=>{t.preventDefault(),await(0,r.jq)()})),document.body.addEventListener("click",(async t=>{await(0,r.Cn)(t),await(0,r.$f)(t)})),n.addEventListener("click",(async()=>{await(0,r.gu)()})),a.addEventListener("click",(async()=>{await(0,r.dX)()})),(0,r.Sv)(t,"garage"),(0,r.Sv)(e,"winners"),u.addEventListener("click",(async()=>{u.setAttribute("disabled","true"),await(0,r.K2)(),u.removeAttribute("disabled")}))};a()}catch(t){a(t)}}))},349:(t,e,n)=>{n.a(t,(async(t,a)=>{try{n.d(e,{O3:()=>d,V9:()=>b,Xz:()=>w});var r=n(923),o=t([r]);r=(o.then?(await o)():o)[0];const s=()=>"\n  <div class='change-view-block d-flex justify-content-center'>\n    <button class='garage__button button-project' id='to-garage'>TO GARAGE</button>\n    <button class='winners__button button-project' id='to-winners'>TO WINNERS</button>\n  </div>\n",c=t=>`\n  <svg class='auto__ico-it' fill="${t}" width="80px" height="80px" viewBox="0 -39.69 122.88 122.88" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"\n    style="enable-background:new 0 0 122.88 43.49" xml:space="preserve" stroke="${t}" transform="matrix(-1, 0, 0, 1, 0, 0)">\n    <g id="SVGRepo_bgCarrier" stroke-width="0"/>\n    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>\n    <g id="SVGRepo_iconCarrier"> <style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style> <g> <path class="st0" d="M103.94,23.97c5.39,0,9.76,4.37,9.76,9.76c0,5.39-4.37,9.76-9.76,9.76c-5.39,0-9.76-4.37-9.76-9.76 C94.18,28.34,98.55,23.97,103.94,23.97L103.94,23.97z M23,29.07v3.51h3.51C26.09,30.86,24.73,29.49,23,29.07L23,29.07z M26.52,34.87H23v3.51C24.73,37.97,26.09,36.6,26.52,34.87L26.52,34.87z M20.71,38.39v-3.51H17.2 C17.62,36.6,18.99,37.96,20.71,38.39L20.71,38.39z M17.2,32.59h3.51v-3.51C18.99,29.49,17.62,30.86,17.2,32.59L17.2,32.59z M105.09,29.07v3.51h3.51C108.18,30.86,106.82,29.49,105.09,29.07L105.09,29.07z M108.6,34.87h-3.51v3.51 C106.82,37.97,108.18,36.6,108.6,34.87L108.6,34.87z M102.8,38.39v-3.51h-3.51C99.71,36.6,101.07,37.96,102.8,38.39L102.8,38.39z M99.28,32.59h3.51v-3.51C101.07,29.49,99.71,30.86,99.28,32.59L99.28,32.59z M49.29,12.79c-1.54-0.35-3.07-0.35-4.61-0.28 C56.73,6.18,61.46,2.07,75.57,2.9l-1.94,12.87L50.4,16.65c0.21-0.61,0.33-0.94,0.37-1.55C50.88,13.36,50.86,13.15,49.29,12.79 L49.29,12.79z M79.12,3.13L76.6,15.6l24.13-0.98c2.48-0.1,2.91-1.19,1.41-3.28c-0.68-0.95-1.44-1.89-2.31-2.82 C93.59,1.86,87.38,3.24,79.12,3.13L79.12,3.13z M0.46,27.28H1.2c0.46-2.04,1.37-3.88,2.71-5.53c2.94-3.66,4.28-3.2,8.65-3.99 l24.46-4.61c5.43-3.86,11.98-7.3,19.97-10.2C64.4,0.25,69.63-0.01,77.56,0c4.54,0.01,9.14,0.28,13.81,0.84 c2.37,0.15,4.69,0.47,6.97,0.93c2.73,0.55,5.41,1.31,8.04,2.21l9.8,5.66c2.89,1.67,3.51,3.62,3.88,6.81l1.38,11.78h1.43v6.51 c-0.2,2.19-1.06,2.52-2.88,2.52h-2.37c0.92-20.59-28.05-24.11-27.42,1.63H34.76c3.73-17.75-14.17-23.91-22.96-13.76 c-2.67,3.09-3.6,7.31-3.36,12.3H2.03c-0.51-0.24-0.91-0.57-1.21-0.98c-1.05-1.43-0.82-5.74-0.74-8.23 C0.09,27.55-0.12,27.28,0.46,27.28L0.46,27.28z M21.86,23.97c5.39,0,9.76,4.37,9.76,9.76c0,5.39-4.37,9.76-9.76,9.76 c-5.39,0-9.76-4.37-9.76-9.76C12.1,28.34,16.47,23.97,21.86,23.97L21.86,23.97z"/> </g> </g>\n  </svg>\n`,i=t=>`\n  <div class="flag__ico" id='flag-ico-${t}'>\n    <svg fill="#ff0000" width="35px" height="35px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="#ff0000" transform="matrix(1, 0, 0, 1, 0, 0)">\n      <g id="SVGRepo_bgCarrier" stroke-width="0"/>\n      <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>\n      <g id="SVGRepo_iconCarrier">\n        <path d="M20,5l-4,5,4,5H6v6a1,1,0,0,1-2,0V3A1,1,0,0,1,6,3V5Z"/>\n      </g>\n    </svg>\n  </div>\n`,u=t=>`\n  <div class='auto-item__controls'>\n    <button class='select__auto button-project' id='select-${t.id}'>SELECT</button>\n    <button class='delete__auto button-project' id='remove-${t.id}'>REMOVE</button>\n    <span class='name__auto'>${t.name}</span>\n  </div>\n  <div class='auto-item__race'>\n    <div class='auto-item__race-block'>\n      <div class='started-engine__button button-engine'>A</div>\n      <div class='stop-engine__button button-engine'>B</div>\n    </div>\n    <div class='auto__ico' id='auto-${t.id}'>\n      ${c(t.color)}\n    </div>\n    ${i(t.id)}\n  </div>\n`,d=()=>`\n  <h1 class="h1">Garage (${r.Z.carsCount})</h1>\n    <div class="pagination-garage pagination">\n      <span>Page</span>\n      <span class="pagination__garage-page">#${r.Z.carsCurrentPage}</span>\n    </div>\n    <ul class='auto__block'>\n    ${r.Z.cars.map((t=>`\n      <li class='auto__block-item'>${u(t)}</li>\n    `)).join("")}\n    </ul>\n`,l=()=>"\n  <div>\n    <form class='create-auto change-auto' id='create-auto'>\n      <input class=\"name__auto__create input\" id=\"create-name\" name='name' type='text' value='' placeholder='Enter auto'>\n      <input class=\"color__auto__create\"  id=\"create-color\" name='color' type='color'>\n      <button class='create-button button-project' type=\"submit\" disabled>Create auto</button>\n    </form>\n    <form class='update-auto change-auto' id='update-auto' >\n      <input class=\"name__auto__update input\" id='update-name' type='text' value='' placeholder='Enter auto'>\n      <input class=\"color__auto__update\" id='update-color' type='color' value='#12af55'>\n      <button class='update-button button-project' disabled>Update auto</button>\n    </form>\n  </div>\n",m=()=>"\n    <div class=\"start-race change-auto\">\n      <button class='race-button button-project'>RACE</button>\n      <button class='reset-race-button button-project'>RESET</button>\n      <button class='generate-cars-button button-project'>GENERATE CARS</button>\n    </div>\n",g=()=>`\n      <tbody>\n      ${r.Z.winners.map(((t,e)=>`\n      <tr>\n        <td>${e+1}</td>\n        <td>\n        ${c(t.car.color)}\n        </td>\n        <td>${t.car.name}</td>\n        <td>${t.wins}</td>\n        <td>${t.time}</td>\n      </tr>\n    `)).join("")}\n      </tbody>\n`,p=()=>`\n    <table class="winners__table">\n      <thead>\n      <tr>\n        <th>Number</th>\n        <th>Car</th>\n        <th>Name</th>\n        <th>Wins</th>\n        <th>Best time (seconds)</th>\n      </tr>\n      </thead>\n      ${g()}\n    </table>\n`,v=()=>"\n  <div class=\"pagination__control\">\n    <button class='button-project prev-button' id='prev'>PREV</button>\n    <button class='button-project next-button' id='next'>NEXT</button>\n  </div>\n",b=()=>`\n  <h1 class="h1">Winners (${r.Z.winnersCount})</h1>\n    <div class="pagination-winners pagination">\n      <span>Page</span>\n      <span class="pagination__winners-page">#${r.Z.winnersCurrentPage}</span>\n    </div>\n  ${p()}\n  </div>\n`,w=async()=>{const t=`\n  ${s()} \n  <div class='garage-view'>  \n  ${l()}\n  ${m()}\n  <div class="garage">\n  ${d()}\n  </div>\n  </div>\n \n  <div class="winners-view">\n  ${b()}\n  ${v()}\n    `,e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e)};a()}catch(t){a(t)}}))},923:(t,e,n)=>{n.a(t,(async(t,a)=>{try{n.d(e,{Z:()=>i});var r=n(203);const{carsItems:t,carsCount:o}=await(0,r.Rn)(1),{winnersItems:s,winnersCount:c}=await(0,r.ix)(1),i={cars:t,carsCurrentPage:1,carsCount:o,currentCarId:0,view:"garage",winners:s,winnersCurrentPage:1,winnersCount:c};a()}catch(t){a(t)}}),1)},70:(t,e,n)=>{n.a(t,(async(t,a)=>{try{n.d(e,{$f:()=>v,Cn:()=>p,K2:()=>_,QG:()=>m,Sv:()=>i,dX:()=>l,gu:()=>d,jq:()=>g,xm:()=>u});var r=n(923),o=n(203),s=n(349),c=t([r,s]);[r,s]=c.then?(await c)():c;const i=(t,e)=>{const n=document.querySelector(".garage-view"),a=document.querySelector(".winners-view");t.addEventListener("click",(async()=>{r.Z.view=e,a.style.display="garage"===r.Z.view?"none":"block",n.style.display="winners"===r.Z.view?"none":"block",await u()}))},u=async()=>{const t=document.querySelector(".garage"),e=document.querySelector(".winners-view"),{winnersItems:n,winnersCount:a}=await(0,o.ix)(r.Z.winnersCurrentPage),{carsItems:c,carsCount:i}=await(0,o.Rn)(r.Z.carsCurrentPage);r.Z.winners=n,r.Z.winnersCount=a,r.Z.cars=c,r.Z.carsCount=i,"winners"===r.Z.view?(10*r.Z.winnersCurrentPage<Number(r.Z.winnersCount)?document.getElementById("next").disabled=!1:document.getElementById("next").disabled=!0,r.Z.winnersCurrentPage>1?document.getElementById("prev").disabled=!1:document.getElementById("prev").disabled=!0):(7*r.Z.carsCurrentPage<Number(r.Z.carsCount)?document.getElementById("next").disabled=!1:document.getElementById("next").disabled=!0,r.Z.carsCurrentPage>1?document.getElementById("prev").disabled=!1:document.getElementById("prev").disabled=!0),t.innerHTML=(0,s.O3)(),e.innerHTML=(0,s.V9)()},d=async()=>{"garage"===r.Z.view?7*r.Z.carsCurrentPage<Number(r.Z.carsCount)&&(r.Z.carsCurrentPage+=1,await u()):10*r.Z.winnersCurrentPage<Number(r.Z.winnersCount)&&(r.Z.winnersCurrentPage+=1,await u())},l=async()=>{"garage"===r.Z.view?1!=r.Z.carsCurrentPage&&(r.Z.carsCurrentPage-=1,await u()):r.Z.winnersCurrentPage>1&&(r.Z.winnersCurrentPage-=1,await u())},m=async()=>{const t=document.getElementById("create-color"),e=document.getElementById("create-name"),n=document.querySelector(".create-button"),a={name:e.value,color:t.value};n.setAttribute("disabled","true"),""!==e.value&&(await(0,o.DT)(a),await u(),e.value="")},g=async()=>{const t=document.getElementById("update-color"),e=document.getElementById("update-name"),n=document.querySelector(".update-button"),a={name:e.value,color:t.value};n.setAttribute("disabled","true"),""!==e.value&&(await(0,o.Bo)(a,r.Z.currentCarId),await u(),e.value="")},p=async t=>{if(t.target.classList.contains("delete__auto")){const e=Number(t.target.id.split("-")[1]);document.getElementById(`remove-${e}`).setAttribute("disabled","true"),await(0,o.tD)(e),r.Z.winners.forEach((t=>{t.id===e&&(0,o.BS)(e)})),await u()}},v=async t=>{const e=document.querySelector(".name__auto__update"),n=document.querySelector(".color__auto__update"),a=document.querySelector(".update-button");if(t.target.classList.contains("select__auto")){a.removeAttribute("disabled");const o=Number(t.target.id.split("-")[1]);r.Z.currentCarId=o,r.Z.cars.forEach((t=>{t.id===o&&(e.value=t.name,n.value=t.color)}))}},b="0123456789ABCDEF",w=[["Nissan","Mercedes","Peugeot","Lada","Hyundai","Tayota","Chery","Mitsubishi","Chevrolet","Renault"],["Supra","Largus","Niva","Qashqai","Creta","Polo","Jetta","Duster","Camry","Tiggo"]],y=()=>w[0][Math.floor(Math.random()*w[1].length)]+" "+w[1][Math.floor(Math.random()*w[0].length)],h=()=>{let t="#";for(let e=0;e<6;e++)t+=b[Math.floor(Math.random()*b.length)];return t},_=async()=>{const t=document.querySelector(".generate-cars-button");for(let t=0;t<100;t++){const t={name:y(),color:h()};await(0,o.DT)(t)}t.setAttribute("disabled","true"),await u()};a()}catch(t){a(t)}}))}},o={};function s(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return r[t](n,n.exports,s),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},s.a=(r,o,s)=>{var c;s&&((c=[]).d=1);var i,u,d,l=new Set,m=r.exports,g=new Promise(((t,e)=>{d=e,u=t}));g[e]=m,g[t]=t=>(c&&t(c),l.forEach(t),g.catch((t=>{}))),r.exports=g,o((r=>{var o;i=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var o=[];o.d=0,r.then((t=>{s[e]=t,a(o)}),(t=>{s[n]=t,a(o)}));var s={};return s[t]=t=>t(o),s}}var c={};return c[t]=t=>{},c[e]=r,c})))(r);var s=()=>i.map((t=>{if(t[n])throw t[n];return t[e]})),u=new Promise((e=>{(o=()=>e(s)).r=0;var n=t=>t!==c&&!l.has(t)&&(l.add(t),t&&!t.d&&(o.r++,t.push(o)));i.map((e=>e[t](n)))}));return o.r?u:s()}),(t=>(t?d(g[n]=t):u(m),a(c)))),c&&(c.d=0)},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s(607)})();